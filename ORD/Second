# Go back to dataset landing page
try:
    driver.get("https://open-reaction-database.org/dataset/ord_dataset-00005539a1e04c809a9a78647bea649c")
    wait_ready(10)
    time.sleep(2)
    print("✓ Navigated back to dataset landing page")
    
    # Scroll down to find pagination and set to 100
    found_pagination = False
    for _ in range(40):
        try:
            divs = driver.find_elements(By.CSS_SELECTOR, "div.select")
            for div in divs:
                txt = (div.text or "").strip()
                if "of 100 entries" in txt or "entries" in txt:
                    driver.execute_script("arguments[0].scrollIntoView({block: 'center'});", div)
                    time.sleep(0.5)
                    found_pagination = True
                    break
            if found_pagination:
                break
        except Exception:
            pass
        driver.execute_script("window.scrollBy(0, 300);")
        time.sleep(0.5)
    
    if found_pagination:
        try:
            select_el = WebDriverWait(driver, 10).until(EC.presence_of_element_located((By.CSS_SELECTOR, "select#pagination")))
            driver.execute_script("arguments[0].scrollIntoView({block: 'center'});", select_el)
            time.sleep(0.5)
            try:
                Select(select_el).select_by_value('100')
                time.sleep(1)
                print("✓ Set pagination to 100")
            except Exception:
                try:
                    driver.execute_script("var s = document.getElementById('pagination'); if(s){ s.value='100'; s.dispatchEvent(new Event('change')); }")
                    time.sleep(1)
                    print("✓ Set pagination to 100 (JS)")
                except Exception:
                    pass
            
            # Scroll up to find View Full Details button
            driver.execute_script("window.scrollTo(0, 0);")
            time.sleep(1)
            
            found_view_button = False
            for _ in range(20):
                try:
                    view_btn = driver.find_element(By.XPATH, "//button[contains(text(), 'View Full Details') or contains(., 'View Full Details')]")
                    if view_btn:
                        driver.execute_script("arguments[0].scrollIntoView({block: 'center'});", view_btn)
                        time.sleep(0.5)
                        found_view_button = True
                        print("✓ Found View Full Details button")
                        break
                except Exception:
                    pass
                driver.execute_script("window.scrollBy(0, 100);")
                time.sleep(0.3)
            
            if not found_view_button:
                print("⚠ View Full Details button not found")
                
        except Exception as e:
            print(f"Exception setting pagination: {e}")
    else:
        print("⚠ Pagination not found")
        
except Exception as e:
    print(f"Exception navigating back: {e}")

# Keep browser open for inspection
time.sleep(10)
driver.quit()
